<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="js.css">
    <title>the closure</title> 
</head>
<body>
  <div class="main1">
  <fieldset>
       <legend class="legen"> <h3>schema : </h3></legend>
     <form action="legen">

       <label for="relation"> <h5> Enter the relation : 
        <input type="text" placeholder="R{A,B,C..}" id="rlt" ></h5>
    </label>
    <label for="relation" > <h5>nombre of functional dependence: 
    <input type="number" id="nF"></h5> </label>
    <label for="relation"> <h5> Enter the att for calcul closure :
    <input type="text" id="att" placeholder="{AB}+"><input type="button" value="confirm" onclick="getF()" ></h5></label>
  </legend>
</fieldset></form> 
</div>
 <div class="waviy">
    <span style="--i:1">THE </span>
    <span style="--i:2"> C</span>
    <span style="--i:3">L</span>
    <span style="--i:4">O</span>
    <span style="--i:5">S</span>
    <span style="--i:6">U</span>
    <span style="--i:7">R</span>
    <span style="--i:8">E</span>
    <span style="--i:9">:</span>
   
 
   <input type="text" id="result"></h4>
</div>

    <script>
      function getF(){ var i=1;
       var a=document.getElementById('nF').value;
               var RS=new Array(a);
               var LS=new Array(a);
               var j=1;
               var k=0;
               var B=new Array();
               var b=document.getElementById('rlt').value;
              var c=document.getElementById('att').value;
              var c1=document.getElementById('att').value;
            /*eleminet les , et {}*/
              B=b.replace('R', "");
              B=B.replace(/[^a-zA-Z ]/g, ""); 
      
              if(recherche(b,c)==0)
                {
                 alert("You can do that here!\n\tErreur in att"); 
               return 0;
              }
             if(a<0) 
             {
               alert("sorry!\n\tErreur in number");
              return 0;
            }
               for(var i=0;i!=a;i++){
               RS[i]=prompt("enter the right side of "+ j +" the function");
               LS[i]=prompt("enter the left side of "+ j++ +" the function"); 
            if(RS[i]==LS[i] ||recherche(b,RS[i])==0 || recherche(b,LS[i])==0)
             {
              alert("sorry!You can do that here");
              return 0;
            }  
       } /*ajouter l'element*/
       var drapo=1;
      while(drapo){
        drapo=0;
        for( i=0;i!=a;i++){
        if((recherche(c,RS[i])!=0)&&(recherche(c,LS[i])==0)){
       c+=LS[i];drapo=1;}
      }
      }
      document.getElementById('result').value=c;
    
    if(recherche(c,B)) alert("this attribut "+c1+" is a key");
    else alert(c1+" is not a key");
    
  }
    /*function pour recherche un charactair dans la relation*/
      function recherche(T,T1){
        var cout=0;
for(var i=0;i!=T1.length;i++){
  if(T.indexOf(T1[i])==-1)
  continue;
  else
  cout++;
}
if(cout==T1.length)
return 1;
return 0;
      }  
       </script>
</body>
</html>